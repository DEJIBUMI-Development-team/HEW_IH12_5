/* h2vR.js version 4.2.5
    last modified at Jun 18 2017
    (c)2011-2017 tyz@freefielder.jp 
		h2vR.js is distributed under the license : http://tategaki.info/h2vr/license.php .
    For detail , please visit http://tategaki.info/h2vr/
		Contact : tyz@freefielder.jp
    ** Don't remove this copyright message **
*/
var h2vr={version:"4.2.5",target:[],tmpdiv:null,initialW:null,em:0,ss:null,ua:"",isIE:!1,isFF38:!1,startConvert:function(){var e,t,r=h2vr,i=r.getTgt(),n=i.length;r.initialW=document.body.clientWidth,t=r.setStyleSheet();var a=r.getByTag(document.body,"RUBY"),o=a.length;for(e=o-1;e>=0;e--)if(0!=a[e].offsetHeight){var s=r.ruby_h(a[e]);a[e].parentNode.rpC(s,a[e])}for(e=0;n>e;e++)r.target[e]=new r.h2v(i[e]);for(e=0;n>e;e++){var l=r.target[e],d=l.ele;r.getByClass(d,"h2v").length&&0==d.offsetHeight||!function(e){setTimeout(function(){try{r.convert(e)}catch(t){return void r.op()}},1)}(l)}!function(){setTimeout(h2vr.op,1)}()},op:function(){var e=h2vr.ss;e.insertRule(".h2vr_liquid,.h2vr_fixed{opacity:1 !important;}",e.cssRules.length),e.insertRule('*[class*="h2vr_"]{transition:opacity 150ms ease-in;}',e.cssRules.length),e.insertRule('*[class*="h2vr_"]{opacity:1;}',e.cssRules.length)},convert:function(e){var t,r,i=h2vr,n=e.ele;if(e.liquid&&""!==e.converted){var a=e.converted.cN(!0),o=e.chars*e.fsPX;i.tmpdiv=i.createTmpdiv(e)}else{var s,l=["SCRIPT","STYLE"];for(t=0;t<l.length;t++)for(s=i.getByTag(n,l[t]),r=s.length-1;r>=0;r--)n.parentNode.aC(s[r]);var d=i.getByTag(n,"PRE"),h=[];for(t=0;t<d.length;t++)h[t]=d[t].cN(!0);for(n.innerHTML=n.innerHTML.replace(/[\f\n\r\t\v\u0020\u00A0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u2028\u2029\u202f\u205f]+/g," "),d=i.getByTag(n,"PRE"),t=0;t<d.length;t++)d[t].parentNode.rpC(h[t],d[t]);var g,c=i.getByTag(n,"CENTER");for(t=c.length-1;t>=0;t--)g=i.newEle("P",{"class":c[t].className,id:c[t].id},{textAlign:"center"}),g.aC(i.exCon(c[t])),c[t].parentNode.rpC(g,c[t]);i.ruby_v(n),n.normalize(),e.html=i.exCon(n);var o=e.chars*(e.fsPX+e.vs)+Math.ceil(e.vs/2);i.tmpdiv=i.createTmpdiv(e),i.tmpdiv.style.height=o+"px";var p=i.separateLines(e,e.html,e.fsPX,o,e.vs),a=i.newEle("DIV",{},{position:"absolute",left:"0"});for(t=0;t<p.length;t++)a.aC(p[t]);e.liquid&&(e.converted=a.cN(!0))}var u=i.newEle("DIV",{"class":"h2v"}),f=[];for(e.multiCols?f=i.separateCols(e,a,1*o):(f[0]=i.oneCol(e,a,1*o),u.style.direction="rtl"),n.innerHTML="",t=0;t<f.length;t++)u.aC(f[t]),t!=f.length-1&&u.aC(i.newEle("DIV",{"class":"_r_separator"}));n.aC(u),n.aC(i.newEle("DIV",{"class":"_r_clearfix"})),i.removeTmpdiv(e),e.cH=0},separateLines:function(e,t,r,i,n){function a(){e.mL+=e.ls,e.mR+=e.ls,l=g.newEle("SPAN",{"class":"_r_e"},{marginLeft:g.round(e.mL,2)+"px",marginRight:g.round(e.mR,2)+"px",width:r+"px",lineHeight:1*r+n+"px",marginTop:h2vr.em-n/2+p+"px"}),l.style.lineHeight=1+g.round(n/r,2),e.flt&&(0!=e.floatCount&&"left"==e.flt&&(l.style.marginTop=e.fH+2+"px"),e.fW-=r+e.mL+e.mR,e.fW<0&&(e.flt=!1,e.floatCount=0))}var o,s,l,d=[],h=0,g=h2vr;e.mL=0,e.mR=0;var c=i;e.flt&&(c=i-e.fH);var p=1==t.nodeType?g.PX(g.dispS(t,["textIndent"],!1,e).textIndent):0;for(0!=p&&(t.style.textIndent=0);o=g.seekNodes(e,t,r,c-p,n,!0);){if("IMG"!==o.nodeName&&"b"==g.isBlock(o,e)||g.isThru(o)){if("_r_float_clear"==o.className){for(;e.fW>0;){var u=g.round(2*e.ls+r,2);d[d.length]=g.newEle("SPAN",{"class":"_r_e"},{marginLeft:e.ls+"px",marginRight:e.ls+"px",width:r+"px",lineHeight:1*r+n+"px"}),e.fW-=u}e.flt=!1,c=i}if("none"==(o.D||g.dispS(o,["display"],!1,e).display))g.exRng(t,o);else{if(e.flt){var f=o.style;e.fW-=g.PX(f.paddingLeft)+g.PX(f.padingRight)+g.PX(f.marginLeft)+g.PX(f.marginRight)+g.PX(f.width,"w")}d[d.length]=g.exRng(t,o)}}else e.flt&&0==e.floatCount?(e.mL+=e.ls,e.mR+=e.ls,d[d.length]=g.newEle("SPAN",{"class":"_r_float"},{marginRight:Math.round(e.fW)+"px",marginLeft:"-"+Math.round(e.fW)+"px",width:r+"px"}),"right"==e.flt&&(d[d.length-1].style.marginTop=h2vr.em+c-e.fH-p+"px"),d[d.length-1].aC(g.exRng(t,o))):(a(),l.aC(g.exRng(t,o)),t.hasChildNodes()&&(s=t.firstChild,(g.isInline(s,e)||"SPAN"==s.nodeName)&&(""!=s.innerHTML&&" "!=s.innerHTML||t.rC(s)),"block"==s.D&&(h=4)),d[d.length]=g.setTAlign(l,c,e,r,h,p),h=0);e.mL=0,e.mR=0,e.cH=0,e.fW>0?(c=i-e.fH,e.floatCount++):c=i,e.okuri=null,p=0}return t.hasChildNodes()&&(1==t.childNodes.length&&3==t.firstChild.nodeType&&""==t.firstChild.nodeValue||(a(),l.aC(g.exCon(t)),d[d.length]=g.setTAlign(l,c,e,r,4,p))),d},setTAlign:function(e,t,r,i,n,a){function o(){return t+Math.ceil((T?(P-1)*p/2:0)+(x?(P-1)*u/2:0)+R.em-a)}var s,l,d,h,g,c,p,u,f,m,v,_,y,b,N,R=h2vr,C=e.style,w=0,b=[],T=!1,x=!1,P=0;switch(e.normalize(),e.hasChildNodes()&&"BR"==e.lastChild.nodeName&&(n=4,1!=e.childNodes.length&&e.rC(e.lastChild)),r.tAlign+n){case 0:case 4:return e}if(s=R.newEle("DIV"),s.aC(e),R.tmpdiv.aC(s),3==r.tAlign){if(4!=n){var B=e.textContent;for(/^[\x20-\x7F]/.test(B)||(T=!0),/[\x20-\x7F]+$/.test(B)||(x=!0),s.style.fontSize=i+"px",p=R.getFC(e)||i,u=R.getLC(e)||i,g=R.getByTag(e,"*"),f=0;f<g.length;f++)sn=g[f].nodeName,N=g[f].className,/psdo_|_r_sp/.test(N)||"RB"==sn||"RT"==sn||"RP"==sn||/psdo_/.test(g[f].parentNode.className)||/h2vr_top/.test(N)&&/h2vr_bottom/.test(N)||(b[b.length]=g[f]);for(c=b.length,P=C.lineHeight,P=1.01>=P?1:P-.01,C.lineHeight=P,h=o();e.offsetHeight<h;)P+=.01,C.lineHeight=P,T&&(C.marginTop=R.ceil((1-P)*p/2+R.em+a,0)+"px"),h=o();if(R.ceil(P,2)>=1.01&&(P-=.01),C.lineHeight=P,T&&(C.marginTop=R.ceil((1-P)*p/2+R.em+a,0)+"px"),h=Math.floor(t+(T?(P-1)*p/2:0)+(x?(P-1)*u/2:0)+R.em-a-e.offsetHeight),0>=h)return e;for(w=0!=c?Math.ceil(h/c):0,f=b.length-1;f>=0;f--){if(N=b[f].className,w>=h&&(w=h),m=/_r_alpha|_r_rotate|_r_cho/.test(N)?"margin":"padding",v=m+"Top",_=m+"Bottom",l=R.getPxStyle(b[f],v),d=R.getPxStyle(b[f],_),y=b[f].style,/h2vr_top/.test(N))y[_]=d+w+"px";else if(/h2vr_bottom/.test(N))y[v]=l+w+"px";else{if(y[v]=l+Math.floor(w/2)+"px",h<=Math.floor(w/2))break;y[_]=d+w-Math.floor(w/2)+"px"}if(h-=w,0>=h)break}return R.emptyTmpdiv(),e}}else C.marginTop=R.getPxStyle(e,"marginTop")+(t-e.offsetHeight)/r.tAlign+"px";return R.emptyTmpdiv(),e},getExH:function(e,t){return 0==t?0:h2vr.round(e/t,2)},getFC:function(e){for(var t=e,r=0,i=h2vr;t;)if(t=t.firstChild,t&&1==t.nodeType){if(Math.round(t.gR().top)==Math.round(e.gR().top)&&i.addCls(t,"h2vr_top"),"RUBY"==t.nodeName)return i.PX(window.getComputedStyle(t).fontSize);r++}else if(t&&3==t.nodeType)return 0==r?null:i.PX(window.getComputedStyle(t.parentNode).fontSize);return null},getLC:function(e){for(var t=e,r=0,i=h2vr;t;)if(t=t.lastChild,t&&1==t.nodeType)Math.round(t.gR().bottom)==Math.round(e.gR().bottom)&&i.addCls(t,"h2vr_bottom"),r++;else if(t&&3==t.nodeType)return 0==r?null:i.PX(window.getComputedStyle(t.parentNode).fontSize);return null},Okuri:function(e,t,r){var i=h2vr;if(!e||11==e.nodeType)return null;var n,a,o;switch(n=e.nodeName){case"#text":switch(e.length){case 0:return i.Okuri(e.previousSibling,t,r);case 1:return e}return a=e.splitText(e.length-1),e;case"SPAN":switch(o=e.gA("class")||"",!0){case/_r_kuto|_r_kakko_b|h2v_tcy|h2vr_tcy/.test(o):return t++,t>=3?null:i.Okuri(e.previousSibling||e.parentNode.previousSibling,t,r);case/_r_sp|_r_cho|_r_komoji/.test(o):return e.previousSibling||i.addBlk(e);case/_r_alpha/.test(o):return/okurare/.test(o)?(t++,t>=3?e:i.Okuri(e.previousSibling||e.parentNode.previousSibling,t,r)):null;default:return i.Okuri(e.lastChild,t,r)||e.lastChild||i.addBlk(e)}case"RUBY":return o=e.gA("class")||"",/okurare/.test(o)?(t++,t>=3?e:i.Okuri(e.previousSibling||e.parentNode.previousSibling,t,r)):null;default:if(i.isInline(e,r))return i.Okuri(e.lastChild,t,r)||e.lastChild||i.addBlk(e)}return null},addBlk:function(e){var t=document.createTextNode("");return e.parentNode.iB(t,e),t},seekNodes:function(e,t,r,i,n,a){function o(){0!=L&&(L=(L+u.PX(H.width))/2,e.mR=L+u.PX(H.marginRight))}function s(){var e=u.newEle("DIV",{"class":"_r_float_clear"});return d.parentNode.iB(e,d),e}function l(){return("left"==H.cssFloat||"right"==H.cssFloat)&&i-m>r?e.flt?g?g:s():(e.flt=H.cssFloat,H.cssFloat="none",u.setStyles(d,H),e.fH=m,e.fW=u.round(u.PX(H.width)+u.PX(H.paddingLeft)+u.PX(H.paddingRight)+u.PX(H.borderLeftWidth)+u.PX(H.borderRightWidth)+u.PX(H.marginLeft)+u.PX(H.marginRight),2),e.floatCount=0,d):!1}var d,h,g,c,p,u=h2vr,f=0,m=0,v=0;for(p=0;p<t.childNodes.length;p++)if(d=t.childNodes[p],1==d.nodeType||3==d.nodeType){c=d.nodeName,h=d.style,g=d.previousSibling,"SPAN"==c&&(c=u.getSpanFlag(d));var _;if(0==p&&a&&"#text"==c){if(d.nodeValue=d.nodeValue.replace(/^ /,""),0==d.nodeValue.length)continue;a=!0}switch("#text"!=c||u.span_match(t,/_r_/)||""==d.nodeValue||(a=!1,u.addVTags(d),d=t.childNodes[p],h=d.style,g=d.previousSibling,"SPAN"==(c=d.nodeName)&&(c=u.getSpanFlag(d))),c){case"#text":if(m=(r+1*n)*d.length,0==m)break;if(v=i-e.cH,0>=v&&(v=0),e.cH+=m,u.ceil(v,2)<=u.floor(m,2)){var y=Math.floor(v/(r+1*n));if(0==y)return e.okuri||g||u.addBlk(d);if(y<d.length)return _=d.splitText(y),d}break;case 1:case 5:if(e.okuri)return e.okuri;var b=(i-(e.cH-r+n))/(r+n);(1>b||e.fixH&&1>=b)&&(e.okuri=u.Okuri(g,0,e)||g||u.addBlk(d)),e.cH+=r+n;break;case 2:if(e.cH+=r+n,i-e.cH<=1)return e.okuri||g||u.addBlk(d);break;case 3:if(e.cH+=r+n,i-e.cH<0)return e.okuri||g||u.addBlk(d);break;case 10:if(e.cH+=r+n,i-e.cH<0)return e.okuri||g||u.addBlk(d);break;case 4:var m=Math.floor(u.PX(u.dispS(d,["width"],!0,e,!1).width));if(u.setStyles(d,{letterSpacing:"0px",lineHeight:"1em",width:r+2*n+"px"}),e.cH+=m+n,d.done||u.setStyles(d,{width:m+"px",marginBottom:Math.floor(m-r-n/2)+"px"}),i-e.cH<0){if(d.done)return d;if(g)return d.done=!0,g;if(u.isList(t,e)||"SPAN"==c)return d.done=!0,u.addBlk(d)}r>=m&&u.addCls(d,"okurare");break;case 6:var N=u.getLS(d,e),m=Math.floor(u.PX(u.dispS(d,["width"],!0,e,!1).width));if(u.setStyles(d,{letterSpacing:N+"px",lineHeight:"1em"}),e.cH+=m,d.done||u.setStyles(d,{width:m+"px",marginBottom:Math.ceil(m-r+u.em-n/2)+"px",marginTop:n/2+"px"}),i-e.cH<0){if(d.done)return d;if(g)return d.done=!0,g;if(u.isList(t,e)||"SPAN"==c)return d.done=!0,u.addBlk(d)}r>=m&&u.addCls(d,"okurare");break;case 7:case"RB":case"RBC":f=e.cH,h.lineHeight=r+n+"px",u.seekNodes(e,d,r,1e3,n,!1),e.cH=f,h.MozTransform&&(h.MozTransform=null);break;case 9:case"RT":case"RTC":f=e.cH,u.seekNodes(e,d,r,1e3,0,!1),e.cH=f,h.MozTransform&&(h.MozTransform=null);break;case"RUBY":if(d.done){delete d.done,h.lineHeight=r+n+"px";var R=u.PX(u.dispS(d,["height"],!0,e).height),C=u.floor(.7*r,2);if(e.cH+=R,e.mR-C<0&&(e.mR=C-r*(e.li/2)),i-e.cH<0)return i-R>0?g||u.addBlk(d):d;break}f=e.cH,u.seekNodes(e,d,r,1e3,n,!1),e.cH=f;var R,w,T,x,P,B=0;u.setStyles(d,{fontSize:r+"px",lineHeight:r+n+"px"});var k=u.newEle("SPAN",{"class":"_r_e"}),S=d.cN(!0);k.aC(S),u.tmpdiv.aC(k),R=S.offsetHeight,w=S.offsetWidth,P=u.getByTag(S,"RBC"),T=u.getByTag(S,"RB"),u.isFF38&&(T=u.getByClass(S,"psdo_rb"));var X=u.getByTag(S,"RT");if(u.isFF38&&(X=u.getByClass(S,"psdo_rt")),X&&(X[0].style.display="none"),x=T[0].offsetHeight,X&&(X[0].style.display="table-cell"),R-x>0&&(T[0].style.lineHeight=Math.floor(R*r/x)+"px"),u.emptyTmpdiv(),h.height=R+"px",R=R-B>0?R:B,e.cH+=R,i-e.cH<0){if(g)return d.done=!0,g;if(u.isList(t,e)||"SPAN"==c)return d.done=!0,u.addBlk(d)}r>=R&&u.addCls(d,"okurare"),d.done=!0;var C=w-r;e.mR-C<0&&(e.mR=C-r*(e.li/2));break;case"IMG":var m,L,H=u.dispS(d,["width","height","marginLeft","marginRight","paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginTop","marginBottom","cssFloat","display"],!0,e);if(m=u.PX(H.height)+u.PX(H.paddingTop)+u.PX(H.paddingBottom)+u.PX(H.marginTop)+u.PX(H.marginBottom)+u.PX(H.borderTopWidth)+u.PX(H.borderBottomWidth),L=u.PX(H.width)-e.fsPX+u.PX(H.paddingLeft)+u.PX(H.paddingRight)+u.PX(H.borderLeftWidth)+u.PX(H.borderRightWidth),H.maxWidth=H.width,H.maxHeight=H.height,d.done)return o(),d;if("block"==H.display)return u.addCls(d,"h2vr_bimg"),d.done=!0,l()?d:g||u.addBlk(d);if(u.addCls(d,"h2vr_iimg"),d.done=!0,l())return d;if(u.setStyles(d,H),0>i-m&&g)return d.done=!0,g;if(e.cH+=m,i-e.cH<0&&g)return g;o();break;case"BR":return e.okuri||d;case"HR":return d.done?d:(d.done=!0,h.height=.8*u.PX(e.pageheight)+"px",e.okuri||g||u.addBlk(d));case"PRE":case"IFRAME":case"TABLE":case"TEXTAREA":case"FORM":case"AUDIO":case"CANVAS":case"EMBED":case"FIGURE":case"VIDEO":case"OBJECT":case"MAP":default:if(u.isThru(d)){u.set_o(d);var H=u.dispS(d,["width","marginTop","marginBottom","marginLeft","marginRight","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","lineHeight"],!0,e,!0),E=u.PX(H.marginLeft)+"px "+u.PX(H.marginTop)+"px "+u.PX(H.marginRight)+"px "+u.PX(H.marginBottom)+"px";return u.setStyles(d,{margin:E,paddingLeft:u.PX(H.paddingLeft)+"px",paddingRight:u.PX(H.paddingRight)+"px",borderLeftWidth:u.PX(H.borderLeftWidth)+"px",borderRightWidth:u.PX(H.borderRightWidth)+"px",width:u.PX(H.width)+"px",maxWidth:u.PX(H.width)+"px",lineHeight:H.lineHeight}),"left"==e.flt&&e.fW>0&&u.setStyles(d,{paddingTop:e.fH+"px"}),d}var A,H,M,W,z,F=u.isBlock(d,e),I=u.getLS(d,e),g=d.parentNode;if(g&&11!=g.nodeType&&(W=u.getLS(d.parentNode,e)),e.fW>0){var D=u.dispS(d,["clear"],!1,e).clear;if(D&&"none"!=D)return s()}switch(F){case"i":if(e.okuri&&i-e.cH<0)return e.okuri;A=u.getNewProp(d,e,!0),H=A.ds,M=u.PX(H.fontSize),A.s.marginLeft=(-M-u.PX(H.paddingTop)-u.PX(H.paddingBottom)-u.PX(H.borderTopWidth)-u.PX(H.borderBottomWidth))/2+"px",8==c&&(A.s.marginLeft=u.PX(A.s.marginLeft)+u.PX(H.borderTopWidth)/2+"px"),z=i-u.PX(H.marginLeft)-u.PX(H.paddingLeft)-u.PX(H.borderLeftWidth),0>=z&&(z=M),u.setLineMargin(e,M,H);var V=u.seekNodes(e,d,M,z,I,a);if(a=!1,V){var j=d.cN(!1),O=u.exRng(d,V);return j.aC(O),u.jflag&&delete A.s.lineHeight,u.setStyles(j,A.s),j.done=!0,u.setStyles(j,{marginBottom:0,paddingBottom:0,borderBottomWidth:0}),u.setStyles(d,{marginLeft:0,paddingLeft:0,borderLeftWidth:0}),j.normalize(),0==j.childNodes.length?u.addBlk(d):(d.parentNode.iB(j,d),"_r_alpha"==j.className&&i<e.cH?u.addBlk(j):j)}d.done||(A.s.width="1em",u.jflag&&delete A.s.lineHeight,u.setStyles(d,A.s)),d.done=!0,g&&1==g.nodeType&&(h.marginTop=-n/2+"px");break;case"n":u.addCls(d,"h2vr_none");continue;case"b":default:u.addCls(d,"h2vr_block"),A=u.getNewProp(d,e,!1),H=A.ds,M=u.PX(H.fontSize),"static"!=H.position&&(h.position="static"),u.jflag=!1;var Y=e.tAlign;switch(H.textAlign){case"justify":e.tAlign=3,u.jflag=!0;break;case"center":e.tAlign=2;break;case"right":e.tAlign=1;break;case"left":default:e.tAlign=0}var $=u.PX(H.width),U=u.PX(H.height);i=0==$?i:$,A.xm=0==$?A.xm:0,z=i-A.xm,0>=z&&(z=M),u.setLineMargin(e,M);var q=1*e.ls;e.ls=Math.ceil((Math.ceil(u.PX(H.lineHeight))-u.PX(H.fontSize))/2,2);var G=0;"LI"==c&&(G=1.5*M);var J=u.separateLines(e,d,M,z-G,I);if("LI"==c){J[0].iB(u.newEle("SPAN",{"class":"_li_mark"}),J[0].firstChild);for(var K=(window.getComputedStyle(J[0].firstChild,":before"),1);K<J.length;K++){var Q=J[K].firstChild;3!=Q.nodeType&&"block"==Q.D||J[K].iB(u.newEle("SPAN",{"class":"_li_nomark"}),J[K].firstChild)}}e.ls=q,u.jflag&&delete A.s.lineHeight,u.setStyles(d,A.s),"SPAN"==c&&u.setStyles(d,{cssFloat:"right"}),h.width=0==U?"auto":U+"px",0==$?h.height="auto":(h.height=null,h.minHeight=$+"px");for(var Z=0;Z<J.length;Z++)d.aC(J[Z]);return e.tAlign=Y,d}}if(d.nextSibling){var ee=d.nextSibling;if("IMG"!=ee.nodeName&&"b"==u.isBlock(ee,e)||u.isThru(ee))return e.okuri||d}}else d.parentNode.rC(d);return e.okuri||!1},getSpanFlag:function(e){var t=e.gA("class")||"";return/_r_kuto|_r_kakko_b/.test(t)?1:/_r_kakko_t/.test(t)?2:/_r_komoji|_r_rotate/.test(t)?3:/_r_sp/.test(t)?4:/h2v_tcy/.test(t)?5:/h2vr_tcy/.test(t)?5:/_r_alpha/.test(t)?6:/psdo_rb/.test(t)?7:/bousen_/.test(t)?8:/psdo_rt/.test(t)?9:/_r_cho/.test(t)?10:0},oneCol:function(e,t,r){var i=h2vr;i.tmpdiv.aC(t),i.tmpdiv.style.left=0;var n=i.tmpdiv.firstChild.gR(),a=i.PX(e.pageheight),o=e.pagewidth,s={width:o+"px",height:a+30+i.em+"px",minHeight:r+"px"},l=n.bottom-n.top,d=Math.floor(l/a+.5);i.tmpdiv.style.width=i.PX(window.getComputedStyle(i.tmpdiv).width)*d+"px",n=i.tmpdiv.firstChild.gR(),iw=Math.ceil(n.right)-Math.floor(n.left),o>iw&&(iw=o,s.overflow="visible");var h=i.newEle("DIV",{"class":"_r_pinner"},{width:iw+"px",paddingBottom:"1em"});t.removeAttribute("style"),h.aC(t);var g=i.newEle("DIV",{"class":"_r_oc"},s);return g.aC(h),i.tmpdiv.style.width="auto",i.emptyTmpdiv(),g},separateCols:function(e,t,r){function i(t){var r,n,a,o,l=t.childNodes,d={};for(r=0;r<l.length;r++)if(3!=l[r].nodeType&&l[r].style)if(a=l[r].style,d={mR:h.PX(a.marginRight),bR:h.PX(a.borderRightWidth),pR:h.PX(a.paddingRight),w:h.PX(a.width),pL:h.PX(a.paddingLeft),bL:h.PX(a.borderLeftWidth),mL:h.PX(a.marginLeft)},n=d.mR+d.bR+d.pR+d.w+d.pL+d.bL,h2vr.isThru(l[r])||h2vr.span_match(l[r],"_r_e")||"i"==h2vr.isBlock(l[r],e)||"b"==h2vr.isBlock(l[r],e)&&!l[r].hasChildNodes()){if(_+=n,_-s>0)return n-g>=0?(_+=d.mL,u=_-y,{cnt:l[r],desc:"e"}):(_-=n,u=_-y,N&&(N.style.marginRight=R-_+"px",N.style.marginLeft=-(R-_)+"px",l[r].parentNode.iB(N.cN(!0),l[r]),N=null),{cnt:l[r].previousSibling||h2vr.addBlk(l[r]),desc:"e"});_+=d.mL}else if(h2vr.span_match(l[r],"_r_float")){var c=_+n;c-s>0&&(R=c,N=l[r].cN(!0))}else{var p=1*_;if(_+=d.mR,_-s>0)return b=s-p,o=l[r].cN(!1),l[r].parentNode.iB(o,l[r]),_+=d.bR+d.pR+d.w+d.pL+d.bL+d.mL,u=g,{cnt:o,desc:""};if(_+=d.bR+d.pR,_-s>0)return b=s-p,o=l[r].cN(!1),l[r].parentNode.iB(o,l[r]),_+=d.w+d.pL+d.bL+d.mL,u=g,{cnt:o,desc:""};var f=1*_,m=i(l[r]),v=_-f;if(v-Math.round(d.w)<0&&(v=d.w),null!==m)return _+=v+d.pL+d.bL+d.mL,"e"==m.desc&&0!=d.w?(o=l[r].cN(!0),l[r].parentNode.iB(o,l[r]),m.cnt=o,m.desc="",b=_-p):b+=d.mR+d.bR+d.pR,m;if(_=f+v,_-s>0)return b=s-p,o=l[r].cN(!0),l[r].parentNode.iB(o,l[r]),_+=d.pL+d.bL+d.mL,u=g,{cnt:o,desc:""};if(_+=d.pL+d.bL,_-s>0)return b=s-p,o=l[r].cN(!0),l[r].parentNode.iB(o,l[r]),_+=d.mL,u=g,{cnt:o,desc:""};if(_+=d.mL,_-s>0)return b=s-p,o=l[r].cN(!0),l[r].parentNode.iB(o,l[r]),u=g,{cnt:o,desc:""}}return null}function n(e,t){for(;;){if(11==e.nodeType)return!1;if(e.gA("class")==t)return e;e=e.parentNode}}function a(){var e,r,i,a=h.getByTag(t,"IMG"),o=0,s=0,l=0,d=0,c=0;for(r=0;r<a.length;r++)e=n(a[r].parentNode,"_r_e"),e!==!1&&(i=e.style,o=h.PX(i.width)+h.PX(i.marginLeft)+h.PX(i.marginRight)+h.PX(i.paddingLeft)+h.PX(i.paddingRight)+h.PX(i.borderLeftWidth)+h.PX(i.borderRightWidth),o-g>0&&(s=h.PX(a[r].style.width),l=h.PX(a[r].style.height),d=s-(o-g),d>0&&(c=l*d/s,h.setStyles(a[r],{width:d+"px",height:c+"px"}),e.style.marginRight=h.PX(i.marginRight)-(o-g)+"px")))}function o(e){var r,i=h.getByTag(t,e),n=0,a=0,o=0;for(n=0;n<i.length;n++)r=i[n].style,a=h.PX(r.width)+h.PX(r.paddingLeft)+h.PX(r.paddingRight)+h.PX(r.marginRight)+h.PX(r.marginLeft)+h.PX(r.borderLeftWidth)+h.PX(r.borderRightWidth),a-g>0&&(o=h.PX(r.width)-(a-g),o>0&&(i[n].style.width=o+"px"))}var s,l,d=[],h=h2vr,g=e.pagewidth;t.normalize(),l=h.cDF(),l.aC(t),a(),o("PRE"),o("TABLE");for(var c,p,u,f,m,v,_=0,y=0,b=0;;){if(u=0,s=g+Math.ceil(y),c=i(t),null===c)break;p=Math.ceil(_+y+5),u-g>0&&(u=g),f=(0>=y?"0":"-"+Math.floor(y))+"px",m=h.newEle("DIV",{"class":"_r_pinner"},{width:p+"px",right:f}),m.aC(h.exRng(t,c.cnt)),v=h.dispS(m,["height"],!0,e,!0).height,d[d.length]=h.newEle("DIV",{"class":"_r_page"},{width:u+"px",minHeight:r+"px",height:v}),d[d.length-1].aC(m),_=0,y=b,b=0}return f=(0>=y?0:"-"+Math.floor(y))+"px",p=Math.ceil(_+y+5),m=h.newEle("DIV",{"class":"_r_pinner"},{width:p+"px",right:f}),m.aC(h.exCon(t)),v=h.dispS(m,["height"],!0,e,!0).height,d[d.length]=h.newEle("DIV",{"class":"_r_page"},{width:s+h.PX(f)+"px",minHeight:r+"px",height:v}),d[d.length-1].aC(m),d;var N,R},addVTags:function(e){var t=h2vr,r=e.cN(!0);for(r.nodeValue=r.nodeValue.replace(t.orig_ex,function(e){return h2vr.repl_a[e]}),result=[],cname=[],place=[],plength=[];result=t.ptn.exec(r.nodeValue);)result[1]?cname[cname.length]="_r_komoji":result[2]?cname[cname.length]="_r_cho":result[3]?cname[cname.length]="_r_kuto":result[4]?cname[cname.length]="_r_sp":result[5]?cname[cname.length]="_r_alpha":result[6]?cname[cname.length]="_r_kakko_t_nr":result[7]?cname[cname.length]="_r_kakko_b_nr":result[8]?cname[cname.length]="_r_rotate":result[9]&&(cname[cname.length]="_r_kuto_s"),plength[plength.length]=result[0].length,place[place.length]=t.ptn.lastIndex-result[0].length;var i,n,a,o,s,l=t.cDF();for(l.aC(r),s=cname.length-1;s>=0;s--)i=r.splitText(place[s]+plength[s]),n=r.splitText(place[s]),a=t.newEle("SPAN",{"class":cname[s]}),o=document.createTextNode(n.nodeValue),a.aC(o),l.rpC(a,n);l.normalize(),e.parentNode.rpC(l,e)},resizeTimer:null,resizeFlag:!1,resizeW:0,doresize:function(){return h2vr.resizeFlag?!1:(h2vr.resizeFlag=!0,void(h2vr.resizeTimer=setInterval(function(){return h2vr.resizeW!=document.body.clientWidth?(h2vr.resizeW=document.body.clientWidth,!1):(clearInterval(h2vr.resizeTimer),document.body.clientWidth==h2vr.initialW?!1:(h2vr.startReConvert(),void setTimeout(function(){h2vr.resizeFlag=!1},10)))},100)))},startReConvert:function(){var e,t,r=h2vr,i=r.ss,n=r.target.length;for(i.deleteRule(i.cssRules.length-1),i.deleteRule(i.cssRules.length-1),e=0;n>e;e++)t=r.target[e],t.fixed||t.horizontal||(t.fixed||(t.liquid||(t.ele.innerHTML=t.org.innerHTML),t.pagewidth=Math.round(r.PX(r.getStyle(t.ele,"width")))),function(e){setTimeout(function(){try{r.convert(e)}catch(t){return void r.op()}},1)}(t));!function(e){setTimeout(function(){e.insertRule('*[class*="h2vr_"]{transition:opacity 0ms ease-in-out;}',e.cssRules.length),e.insertRule('*[class*="h2vr_"]{opacity:1;}',e.cssRules.length)},1)}(i)},getNewProp:function(e,t,r){var i=h2vr,n=i.dispS(e,["fontSize","width","height","marginTop","marginLeft","marginBottom","marginRight","paddingTop","paddingLeft","paddingBottom","paddingRight","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","textAlign","position","display","lineHeight","letterSpacing"],r,t),a=i.PX(n.marginLeft)+i.PX(n.marginRight)+i.PX(n.paddingLeft)+i.PX(n.paddingRight)+i.PX(n.borderLeftWidth)+i.PX(n.borderRightWidth),o=i.PX(n.marginLeft)+"px "+i.PX(n.marginTop)+"px "+i.PX(n.marginRight)+"px "+i.PX(n.marginBottom)+"px",s=i.PX(n.paddingLeft)+"px "+i.PX(n.paddingTop)+"px "+i.PX(n.paddingRight)+"px "+i.PX(n.paddingBottom)+"px",l={margin:o,padding:s,lineHeight:i.PX(n.letterSpacing)+i.PX(n.fontSize)+"px",letterSpacing:"normal"},d=i.rotateBdr({Top:n.borderTopStyle,Right:n.borderRightStyle,Bottom:n.borderBottomStyle,Left:n.borderLeftStyle},e,t);for(var h in d)l[h]=d[h];return{s:l,xm:a,ds:n}},rotateBdr:function(e,t,r){function i(e){var t={Top:"Right",Right:"Bottom",Bottom:"Left",Left:"Top"};return t[e]}var n={};for(var a in e)if(e[a]&&"none"!=e[a]){n["border"+i(a)+"Style"]=e[a];var o=[];o.push("border"+a+"Width","border"+a+"Color");var s=this.dispS(t,o,!1,r);n["border"+i(a)+"Width"]=s["border"+a+"Width"],n["border"+i(a)+"Color"]=s["border"+a+"Color"]}else n["border"+i(a)+"Style"]="none",n["border"+i(a)+"Width"]="0";return n},setLineMargin:function(e,t,r){var i=h2vr;if(r&&(t+=(i.PX(r.marginTop)+i.PX(r.marginBottom)+i.PX(r.paddingTop)+i.PX(r.paddingBottom))/2),e.fsPX-t<0){var n=(t-e.fsPX)/2;e.mL-n<0&&(e.mL=n);var a=(t-e.fsPX)/2;e.mR-a<0&&(e.mR=a)}},isBlock:function(e,t){if("HR"==e.nodeName)return!1;switch(e.D||h2vr.D(e,t)){case"block":case"list-item":return"b";case"inline-block":case"inline":return"i";case"none":return"n";default:return!1}},D:function(e,t){return 1!==e.nodeType?!1:h2vr.dispS(e,["display"],!1,t).display},isList:function(e,t){return"list-item"==(e.D||h2vr.D(e,t))},isInline:function(e,t){switch(e.D||h2vr.D(e,t)){case"inline":case"inline-block":return!0}return!1},isThru:function(e){switch(e.nodeName){case"PRE":case"IFRAME":case"TABLE":case"TEXTAREA":case"FORM":case"AUDIO":case"CANVAS":case"EMBED":case"FIGURE":case"VIDEO":case"OBJECT":case"MAP":return!0;default:if(/(^|\s)h2vr_ignore(\s|$)/.test(e.className))return!0}return!1},span_match:function(e,t){if(1!=e.nodeType)return!1;var r=e.gA("class")||"";return!("SPAN"!=e.nodeName||!r.match(t))},getLS:function(e,t){var r=this.dispS(e,["letterSpacing"],!1,t),i=r.letterSpacing;switch(i){case"normal":case"initial":return 0;default:return h2vr.PX(i)}},dispS:function(e,t,r,i,n){for(var a,o,s,l,d,h=h2vr,g=e.cN(r),c=e.parentNode,p=0;c&&11!=c.nodeType;)a=c.cN(!1),a.aC(g),g=a,p++,c=c.parentNode;for(n?(o=g.cN(r),h.tmpdiv.aC(o)):(s=h2vr.newEle("DIV",{id:"_r_tmp_sq"},{height:i.pageheight,width:i.pageheight}),o=g.cN(!0),s.aC(o),h.tmpdiv.aC(s)),d=0;p>d;d++)o=o.lastChild;return l=h.getStyles(o,t),e.D=l.display,h.emptyTmpdiv(),l},emptyTmpdiv:function(){for(var e,t=h2vr;e=t.tmpdiv.lastChild;)t.tmpdiv.removeChild(e)},createTmpdiv:function(e){var t=h2vr;if(t.getById("_r_tmp_div"))return t.getById("_r_tmp_div");var r=t.newEle("DIV",{id:"_r_tmp_div","class":"h2v"},{fontSize:e.fs});return e.ele.aC(r),r},removeTmpdiv:function(e){h2vr.getById("_r_tmp_div")&&e.ele.rC(h2vr.getById("_r_tmp_div"))},setStyleSheet:function(){var e=h2vr,t=e.newEle("STYLE",{title:"h2vr_add"});e.getByTag(document,"HEAD")[0].aC(t);var r,i=document.styleSheets;for(r=0;r<i.length;r++)if("h2vr_add"==i[r].title){t=i[r],e.ss=i[r];break}var n=e.getStyles(document.body,["lineHeight","letterSpacing"]);return/windows/.test(h2vr.ua)&&(t.insertRule("._r_e{margin-top:2px;}",t.cssRules.length),h2vr.em=2),"normal"==n.lineHeight&&t.insertRule("body{line-height:1.2em;}",t.cssRules.length),"normal"==n.letterSpacing&&t.insertRule("body{letter-spacing:0;}",t.cssRules.length),/firefox/.test(h2vr.ua)&&(t.insertRule("ruby { display:inline-table; line-height:1em; text-align:center;}",t.cssRules.length),t.insertRule("ruby>rbc{display:table-row;}",t.cssRules.length),t.insertRule("ruby rb{display:table-cell;}",t.cssRules.length),t.insertRule("ruby>rb{display:table-row;}",t.cssRules.length),t.insertRule("ruby rt{display:table-cell;}",t.cssRules.length),t.insertRule("ruby>rt{display:table-header-group;font-size:50%;}",t.cssRules.length)),h2vr.isFF38&&(t.insertRule("._r_e ruby>.psdo_rb,#_r_e_tmp_div ruby>.psdo_rb,._r_e ruby>rbc>.psdo_rb,#_r_e_tmp_div ruby>rbc>.psdo_rb{display:table-cell !important;width:1em;max-width:1em;font-size:100%;word-wrap:break-word;word-break:break-all;vertical-align:middle;position:static;}",t.cssRules.length),t.insertRule("._r_e ruby>.psdo_rtc,#_r_e_tmp_div ruby>.psdo_rtc{display:table-cell !important;font-size:50%;width:1em ;max-width : 1em ; vertical-align:middle;line-height:1em;float:none;clear:both;position:static;}",t.cssRules.length),t.insertRule("._r_e ruby>.psdo_rt,#_r_e_tmp_div ruby>.psdo_rt{display:table-cell !important;font-size:50%;width:1em;max-width:1em;word-wrap:break-word;word-break:break-all;vertical-align:middle;position:static;}",t.cssRules.length),t.insertRule("._r_e ruby>.psdo_rtc>.psdo_rt,#_r_e_tmp_div ruby>psdo_rtc>.psdo_rt{	font-size:100%;float:none;clear:both;width:1em;max-width: 1em;line-height:1em;position:static;margin-left:0;}",t.cssRules.length)),t},ruby_h_wk:function(e){var t,r,i,n,a,o,s,l,d=h2vr;for(t=d.getChild(e,"RBC"),t=t.length?t[0]:e,n=d.cDF(),a=0;a<t.childNodes.length;a++)switch(r=t.childNodes[a],r.nodeName){case"#text":if(/[\f\n\r\t\v]/g.test(r.nodeValue))break;i=d.newEle("RB"),i.aC(r.cN(!0)),n.aC(i);break;case"RB":n.aC(r.cN(!0))}if(t=d.getChild(e,"RTC"),s=d.cDF(),t.length)for(a=0;a<t[0].childNodes.length;a++)switch(r=t[0].childNodes[a],r.nodeName){case"#text":if(/[\f\n\r\t\v]/g.test(r.nodeValue))break;o=d.newEle("RT"),o.aC(r.cN(!0)),s.aC(o);break;case"RT":s.aC(r.cN(!0))}else for(a=0;a<e.childNodes.length;a++)r=e.childNodes[a],"RT"==r.nodeName&&s.aC(r.cN(!0));if(n.childNodes.length!=s.childNodes.length)return e;for(l=e.cN(!1),a=0;a<n.childNodes.length;a++)l.aC(n.childNodes[a].cN(!0)),l.aC(s.childNodes[a].cN(!0));return l},ruby_h_ie:function(e){var t;for(t=0;t<e.childNodes.length;t++)h2vr.ruby_formatter(e.childNodes[t]);return h2vr.ruby_h_wk(e)},ruby_h_old_moz:function(e){var t;for(t=0;t<e.childNodes.length;t++)h2vr.ruby_formatter(e.childNodes[t]);return h2vr.ruby_h_moz(e)},ruby_h_moz:function(e){var t,r,i,n,a,o,s,l,d,h,g=h2vr;for(t=g.getChild(e,"RBC"),t=t.length?t[0]:e,r=g.cDF(),o=0;o<t.childNodes.length;o++)switch(i=t.childNodes[o],i.nodeName){case"#text":if(/[\f\n\r\t\v]/g.test(i.nodeValue))break;n=g.newEle("RB"),n.aC(i.cN(!0)),r.aC(n);break;case"RB":r.aC(i.cN(!0))}if(a=g.newEle("RBC"),a.aC(r.cN(!0)),t=g.getChild(e,"RTC"),r=g.cDF(),t.length)for(o=0;o<t[0].childNodes.length;o++)switch(i=t[0].childNodes[o],i.nodeName){case"#text":if(/[\f\n\r\t\v]/g.test(i.nodeValue))break;s=g.newEle("RT"),s.aC(i.cN(!0)),r.aC(s);break;case"RT":r.aC(i.cN(!0))}else for(o=0;o<e.childNodes.length;o++)i=e.childNodes[o],"RT"==i.nodeName&&r.aC(i.cN(!0));if(l=g.newEle("RTC"),l.aC(r.cN(!0)),a.normalize(),l.normalize(),a.childNodes.length!=l.childNodes.length)return e;for(d=g.cDF(),o=0;o<a.childNodes.length;o++)h=e.cN(!1),h.aC(a.childNodes[o].cN(!0)),h.aC(l.childNodes[o].cN(!0)),h.style.verticalAlign=g.ruby_m(e,h),d.aC(h.cN(!0));return d},ruby_formatter:function(e){var t,r,i,n=e.nodeName,a=[],o=[];switch(n){case"RT":case"RB":a.push("RB");case"RBC":a.push("RT");case"RTC":a.push("RBC"),a.push("RTC")}switch(n){case"RBC":o.push("RB");break;case"RTC":o.push("RT"),a.push("RB")}for(t=0;t<e.childNodes.length;t++){for(r=e.childNodes[t],i=0;i<a.length;i++)a[i]==r.nodeName&&(e.parentNode.aC(r),t--);for(i=0;i<o.length;i++)o[i]==r.nodeName&&h2vr.ruby_formatter(r)}return e},ruby_m:function(e,t){var r,i,n,a,o=h2vr,s=o.newEle("SPAN");return s.id="_redsdummy",s.innerHTML="あ",t.style.verticalAlign="0px",r=o.getByTag(t,"RB"),0==r.length&&(r=o.getByTag(t,"RBC")),a=r[0].id,r[0].id="_dsmeasure",e.parentNode.iB(s,e),n=o.getTop(s)+window.scrollY,e.parentNode.rC(s),e.parentNode.iB(t,e),i=o.getTop(r[0])-n+window.scrollY,r[0].removeAttribute("id"),a&&(r[0].id=a),e.parentNode.rC(t),i+"px"},ruby_m_ie:function(e,t){var r,i,n,a,o,s,l=h2vr,d=l.newEle("SPAN");if(d.id="_redsdummy",d.innerHTML="あ",t.style.verticalAlign="0px",r=l.getByTag(t,"RB"),0==r.length){if(r=l.getByTag(t,"RBC"),0!=r.length)n=r[0];else for(r=l.getByTag(t,"SPAN"),a=0;a<r.length;a++)if("_rerbc"==r[a].gA("class")){n=r[a];break}}else n=r[0];return s=n.id,n.id="_dsmeasure",e.parentNode.iB(d,e),o=l.getTop(d)+window.pageYOffset,e.parentNode.rC(d),e.parentNode.iB(t,e),i=l.getTop(n)-o+window.pageYOffset,n.removeAttribute("id"),s&&(n.id=s),e.parentNode.rC(t),i+"px"},getTop:function(e){return e.gR().top},getChild:function(e,t){var r,i=[];for(r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeName==t&&i.push(e.childNodes[r]);return i},ruby_v:function(e){var t,r,i,n,a,o,s,l,d,h,g,c,p,u,f,m=h2vr,v=m.getByTag(e,"RUBY");for(t=v.length-1;t>=0;t--){if(v[t].normalize(),o=m.getByTag(v[t],"RT"),a=m.getByTag(v[t],"RBC"),s=m.getByTag(v[t],"RTC"),d=0==a.length?v[t]:a[0],n=m.getByTag(d,"RB"),0==n.length)for(i=d.childNodes.length-1;i>=0;i--)switch(f=d.childNodes[i],f.nodeName){case"#text":f.nodeValue=f.nodeValue.replace(/^\s+|\s+$/,""),l=m.newEle("RB"),l.aC(f.cN(!0)),f.parentNode.rpC(l,f)}if(n=m.getByTag(v[t],"RB"),c=m.cDF(),o.length!=n.length)throw new Error;for(r=0;r<o.length;r++)p=v[t].cN(!1),h=p,g=p,a.length&&(p.aC(a[0].cN(!1)),h=p.firstChild),s.length&&(p.aC(s[0].cN(!1)),g=p.lastChild),u=n[r].cN(!0),u.innerHTML='<span class="psdo_rb_inner">'+u.innerHTML+"</span>",h.aC(u.cN(!0)),u=o[r].cN(!0),u.innerHTML='<span class="psdo_rt_inner">'+u.innerHTML+"</span>",g.aC(u.cN(!0)),c.aC(p);v[t].parentNode.rpC(c,v[t])}},ruby_v_ff38:function(e){var t,r,i,n,a,o,s,l,d,h,g,c,p,u,f,m=h2vr,v=m.getByTag(e,"RUBY");for(t=v.length-1;t>=0;t--){if(v[t].normalize(),o=m.getByTag(v[t],"RT"),a=m.getByTag(v[t],"RBC"),s=m.getByTag(v[t],"RTC"),d=0==a.length?v[t]:a[0],n=m.getByTag(d,"RB"),0==n.length)for(i=d.childNodes.length-1;i>=0;i--)switch(f=d.childNodes[i],f.nodeName){case"#text":f.nodeValue=f.nodeValue.replace(/^\s+|\s+$/,""),l=m.newEle("RB"),l.aC(f.cN(!0)),f.parentNode.rpC(l,f)}if(n=m.getByTag(v[t],"RB"),c=m.cDF(),o.length!=n.length)throw new Error;for(r=0;r<o.length;r++){if(p=v[t].cN(!1),h=p,g=p,a.length&&(p.aC(a[0].cN(!1)),h=p.firstChild),s.length){var _=s[0].className?" "+s[0].className:"";u=m.newEle("SPAN",{"class":"psdo_rtc"+_}),p.aC(u.cN(!1)),g=p.lastChild}var _=n[r].className?" "+n[r].className:"";u=m.newEle("SPAN",{"class":"psdo_rb"+_}),u.innerHTML='<span class="psdo_rb_inner">'+n[r].innerHTML+"</span>",h.aC(u.cN(!0));var _=o[r].className?" "+o[r].className:"";u=m.newEle("SPAN",{"class":"psdo_rt"+_}),u.innerHTML='<span class="psdo_rt_inner">'+o[r].innerHTML+"</span>",g.aC(u.cN(!0)),
c.aC(p)}v[t].parentNode.rpC(c,v[t])}},getTgt:function(){var e,t,r,i=document.getElementsByTagName("*"),n=[],a=i.length;for(e=0;a>e;e++)t=window.getComputedStyle(i[e]).display,r=i[e].className,"inline"!=t&&"none"!=t&&/(^|\s)h2vr_(\d*)(\s|$)/.test(r)&&(/(^|\s)h2vr_thru(\s|$)/.test(r)||n.push(i[e]));return n},set_o:function(e){var t,r=h2vr.getByTag(e,"*");for(t=0;t<r.length;t++)h2vr.addCls(r[t],"o_h2vr")},addCls:function(e,t){var r=e.gA("class");e.sA("class",(r?r+" ":"")+t)},h2v:function(e){this.ele=e;var t,r,i,n=h2vr;switch(t=n.getStyles(e,["fontSize","lineHeight","fontFamily","textAlign","letterSpacing","width","height"]),this.fs=t.fontSize,this.fsPX=n.PX(this.fs),this.li=n.round((n.PX(t.lineHeight)-this.fsPX)/this.fsPX,1),this.vs=n.PX(t.letterSpacing),i=e.className,this.multiCols=!/(^|\s)h2vr_single(\s|$)/.test(i),r=/(^|\s)h2vr_(\d*)(\s|$)/.exec(i),this.chars=1*r[2],0==this.chars?(this.pageheight=t.height,this.chars=Math.floor(n.PX(this.pageheight)/(this.fsPX+this.vs)),this.fixH=!0,this.multiCols=!1,0==this.chars&&(this.chars=1,this.pageheight=this.fsPX+"px",this.fixH=!1)):(this.pageheight=this.chars*this.fsPX+"px",this.ele.style.height="auto"),this.mR=0,this.mL=0,this.ls=Math.round(this.fsPX*this.li/2),this.cH=0,t.textAlign){case"justify":this.tAlign=3;break;case"center":this.tAlign=2;break;case"right":this.tAlign=1;break;case"left":default:this.tAlign=0}this.org=this.ele.cN(!0),this.okuri=null,this.html="",this.flt=!1,this.floatCount=0,this.fixed=/(^|\s)h2vr_fixed(\s|$)/.test(i),this.pagewidth=Math.round(n.PX(t.width)),this.liquid=/(^|\s)h2vr_liquid(\s|$)/.test(i),this.horizontal=!1,this.converted=""},exRng:function(e,t){var r=document.createRange();return r.setStartBefore(e.firstChild),r.setEndAfter(t),r.extractContents()},exCon:function(e){var t=document.createRange();return t.selectNodeContents(e),t.extractContents()},komojis:["ぁ","ぃ","ぅ","ぇ","ぉ","っ","ゃ","ゅ","ょ","ゎ","ァ","ィ","ゥ","ェ","ォ","ッ","ャ","ュ","ョ","ヮ"].join(""),kakko_t_a:["「","『","（","｛","〈","《","〔","【","［"],kakko_t_r_a:["﹁","﹃","︵","︷","︿","︽","︹","︻","﹇"],kakko_b_a:["」","』","）","｝","〉","》","〕","】","］"],kakko_b_r_a:["﹂","﹄","︶","︸","﹀","︾","︺","︼","﹈"],dash_a:["―","—","‥","ー"],dash_r_a:["︱","︱","︰","丨"],rotates:["↑","↓","→","←","…","＝","−","：","；","＜","＞"].join(""),rotate_mirrors:["〜","～"].join(""),kutos:["。","、","，"].join(""),orig_ex:null,repl_a:[],ptn:null,getByClass:function(e,t){var r=h2vr;if(e.getElementsByClassName)return e.getElementsByClassName(t);for(var i=r.getByTag(e,"*"),n=[],a=0;a<i.length;a++)i[a].gA("class")==t&&(n[n.length]=i[a]);return n},getById:function(e){return document.getElementById(e)},getByTag:function(e,t){return e.getElementsByTagName(t)},getStyle:function(e,t){return window.getComputedStyle(e,null)[t]},getStyles:function(e,t){for(var r=window.getComputedStyle(e,null),i={},n=0;n<t.length;n++)i[t[n]]=r[t[n]];return i},PX:function(e){var t=h2vr;return e+="",""==e?0:e.match("px")?t.round(1*e.replace("px",""),2):e.match("pt")?t.round(4*e.replace("pt","")/3,2):e.match("em")?t.round(16*e.replace("em","")*1,2):e.match(/[^0-9\.]/g)?0:t.round(1*e,2)},getPxStyle:function(e,t){var r=window.getComputedStyle(e,null);return this.PX(r[t])},setStyles:function(e,t){for(var r in t)e.style[r]=t[r];return e},newEle:function(e,t,r){var i,n,a=document.createElement(e);for(i in t)t[i]&&a.sA(i,t[i]);for(n in r)a.style[n]=r[n];return a},cDF:function(){return document.createDocumentFragment()},round:function(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r},ceil:function(e,t){var r=Math.pow(10,t);return Math.ceil(e*r)/r},floor:function(e,t){var r=Math.pow(10,t);return Math.floor(e*r)/r}};!function(){var e=h2vr,t=navigator.userAgent.toLowerCase(),r=window.opera?opera.version().replace(/\d$/,"")-0:/trident/.test(t)&&/rv:/.test(t)?parseFloat((/(?:rv:)(\d+\.\d)/.exec(t)||[,0])[1]):parseFloat((/(?:ie |fox\/|ome\/|ion\/)(\d+\.\d)/.exec(t)||[,0])[1]);if(e.ua=t,/msie/.test(t)&&void 0!==document.documentMode&&(r=document.documentMode),/opera/.test(t)&&13>r||/firefox/.test(t)&&3.5>r||!/chrome/.test(t)&&!/opera/.test(t)&&/safari/.test(t)&&!/mobile/.test(t)&&3.1>r||/msie/.test(t)&&9>r)return!1;if(/windows nt 5/.test(t))return!1;/firefox/.test(t)?r>=38?(e.isFF38=!0,e.ruby_v=e.ruby_v_ff38,e.ruby_h=e.ruby_h_moz):e.ruby_h=e.ruby_h_old_moz:/trident/.test(t)||/edge/.test(t)?(e.isIE=!0,e.ruby_h=e.ruby_h_ie,e.ruby_m=e.ruby_m_ie):e.ruby_h=e.ruby_h_wk;var i,n,a,o,s;for(i=e.kakko_t_a.concat(e.kakko_b_a,e.dash_a),n=e.kakko_t_r_a.concat(e.kakko_b_r_a,e.dash_r_a),e.orig_ex=RegExp("("+i.join("|")+")","g"),a=0;a<i.length;a++)e.repl_a[i[a]]=n[a];o=e.kakko_t_r_a.join(""),s=e.kakko_b_r_a.join(""),e.ptn=RegExp("(["+e.komojis+"])|(["+e.rotate_mirrors+"])|(["+e.kutos+"])|( |\\u00A0)|([!-~‘”“’]+\\s?)|(["+o+"])|(["+s+"])|(["+e.rotates+"])|([！？])","g"),Node.prototype.aC=Node.prototype.appendChild,Node.prototype.rC=Node.prototype.removeChild,Node.prototype.rpC=Node.prototype.replaceChild,Node.prototype.cN=Node.prototype.cloneNode,Node.prototype.iB=Node.prototype.insertBefore,Element.prototype.sA=Element.prototype.setAttribute,Element.prototype.gA=Element.prototype.getAttribute,Element.prototype.gR=Element.prototype.getBoundingClientRect,document.addEventListener("DOMContentLoaded",h2vr.startConvert,!1),window.addEventListener("resize",h2vr.doresize,!1)}();